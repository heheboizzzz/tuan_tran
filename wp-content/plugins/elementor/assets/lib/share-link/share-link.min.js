!(function (t) {
  (window.ShareLink = function (e, r) {
    var i,
      n = {},
      l = function (t) {
        var e = "";
        if (n.width && n.height) {
          var r = screen.width / 2 - n.width / 2,
            i = screen.height / 2 - n.height / 2;
          e =
            "toolbar=0,status=0,width=" +
            n.width +
            ",height=" +
            n.height +
            ",top=" +
            i +
            ",left=" +
            r;
        }
        var l = ShareLink.getNetworkLink(t, n),
          s = /^http?:\/\//.test(l);
        open(l, s ? "" : "_self", e);
      },
      s = function () {
        t.each(e.classList, function () {
          var t,
            e =
              (t = this).substr(0, n.classPrefixLength) === n.classPrefix
                ? t.substr(n.classPrefixLength)
                : null;
          if (e)
            return (
              (function (t) {
                i.on("click", function () {
                  l(t);
                }),
                  "button" === i.attr("role") &&
                    i.on("keyup", (e) => {
                      (13 !== e.keyCode && 32 !== e.keyCode) ||
                        (e.preventDefault(), l(t));
                    });
              })(e),
              !1
            );
        });
      };
    t.extend(n, ShareLink.defaultSettings, r),
      ["title", "text"].forEach(function (t) {
        n[t] = n[t].replace("#", "");
      }),
      (n.classPrefixLength = n.classPrefix.length),
      (i = t(e)),
      s();
  }),
    (ShareLink.networkTemplates = {
      twitter: "http://twitter.com/intent/tweet?text={text} {url}",
      pinterest:
        "http://www.pinterest.com/pin/create/button/?url={url}&media={image}",
      facebook: "http://www.facebook.com/sharer.php?u={url}",
      vk: "http://vkontakte.ru/share.php?url={url}&title={title}&description={text}&image={image}",
      linkedin:
        "http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={text}&source={url}",
      odnoklassniki:
        "http://connect.ok.ru/offer?url={url}&title={title}&imageUrl={image}",
      tumblr: "http://tumblr.com/share/link?url={url}",
      google: "http://plus.google.com/share?url={url}",
      digg: "http://digg.com/submit?url={url}",
      reddit: "http://reddit.com/submit?url={url}&title={title}",
      stumbleupon: "http://www.stumbleupon.com/submit?url={url}",
      pocket: "http://getpocket.com/edit?url={url}",
      whatsapp: "http://api.whatsapp.com/send?text=*{title}*%0A{text}%0A{url}",
      xing: "http://www.xing.com/app/user?op=share&url={url}",
      print: "javascript:print()",
      email: "mailto:?subject={title}&body={text}\n{url}",
      telegram: "http://telegram.me/share/url?url={url}&text={text}",
      skype: "http://web.skype.com/share?url={url}",
    }),
    (ShareLink.defaultSettings = {
      title: "",
      text: "",
      image: "",
      url: location.href,
      classPrefix: "s_",
      width: 640,
      height: 480,
    }),
    (ShareLink.getNetworkLink = function (t, e) {
      var r = ShareLink.networkTemplates[t].replace(
        /{([^}]+)}/g,
        function (t, r) {
          return e[r] || "";
        }
      );
      if ("email" === t) {
        if (-1 < e.title.indexOf("&") || -1 < e.text.indexOf("&")) {
          var i = {
            text: e.text.replace(new RegExp("&", "g"), "%26"),
            title: e.title.replace(new RegExp("&", "g"), "%26"),
            url: e.url,
          };
          r = ShareLink.networkTemplates[t].replace(
            /{([^}]+)}/g,
            function (t, e) {
              return i[e];
            }
          );
        }
        return (
          r.indexOf("?subject=&body") && (r = r.replace("subject=&", "")), r
        );
      }
      return r;
    }),
    (t.fn.shareLink = function (e) {
      return this.each(function () {
        t(this).data("shareLink", new ShareLink(this, e));
      });
    });
})(jQuery);
